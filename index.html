<html><head>
<title>Cat Generator</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    font-family: Arial, sans-serif;
  }
  #cat-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    transition: background-image 1s ease-in-out;
  }
  #progress-bar {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    width: 300px;
    height: 30px;
    background-color: rgba(255, 255, 255, 0.3);
    border-radius: 15px;
    overflow: hidden;
  }
  #progress {
    width: 0%;
    height: 100%;
    background-color: rgba(255, 255, 255, 0.7);
    transition: width 0.1s linear;
  }
  #progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: #000;
    font-weight: bold;
    text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
  }
</style>
</head>
<body>
<div id="cat-container"></div>
<div id="progress-bar">
  <div id="progress"></div>
  <div id="progress-text">New Cat in 10s</div>
</div>

<script>
const catContainer = document.getElementById('cat-container');
const progressBar = document.getElementById('progress');
const progressText = document.getElementById('progress-text');

function generateCatImage() {
  const timestamp = new Date().getTime();
  const imageUrl = `https://cataas.com/cat?t=${timestamp}`;
  
  const img = new Image();
  img.onload = function() {
    catContainer.style.backgroundImage = `url(${imageUrl})`;
  };
  img.src = imageUrl;
}

function updateProgressBar(secondsLeft) {
  const progress = ((10 - secondsLeft) / 10) * 100;
  progressBar.style.width = `${progress}%`;
  progressText.textContent = `New Cat in ${secondsLeft}s`;
}

function catGenerator() {
  generateCatImage();
  let secondsLeft = 10;

  const timer = setInterval(() => {
    secondsLeft--;
    updateProgressBar(secondsLeft);

    if (secondsLeft === 0) {
      clearInterval(timer);
      catGenerator();
    }
  }, 1000);
}

catGenerator();
</script>
</body></html>